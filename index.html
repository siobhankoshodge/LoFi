<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Floating Manifestation Garden</title>
    <style>
        :root {
            --bg-color: #f0f4f8; /* Soft sky blue/grey */
            --stem-color: #7d8f69;
            --text-color: #5a6a82;
            --accent: #d1e3f0;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100vw; height: 100vh;
            background-color: var(--bg-color);
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        #garden { width: 100%; height: 100%; position: relative; }

        /* Floating Seed Style */
        .seed-word {
            position: absolute;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid var(--accent);
            border-radius: 20px;
            color: var(--text-color);
            cursor: pointer;
            font-size: 14px;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            user-select: none;
            z-index: 100;
        }

        .seed-word:hover { transform: scale(1.1); background: #fff; }

        /* The Lo-Fi Overlay */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; background: url('https://grainy-gradients.vercel.app/noise.svg');
            opacity: 0.1; z-index: 10;
        }

        @keyframes sway {
            0%, 100% { transform: rotate(-2deg); }
            50% { transform: rotate(2deg); }
        }

        .plant {
            position: absolute; bottom: 0; transform-origin: bottom center;
            display: flex; flex-direction: column; align-items: center;
            animation: sway 4s ease-in-out infinite;
        }

        .stem { 
            width: 3px; 
            background: linear-gradient(to top, #4b5d3f, var(--stem-color)); 
            border-radius: 2px; 
            height: 0px; 
            transition: height 0.3s ease-out; 
        }

        .flower-canvas { transform: scale(0); transition: transform 2s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .flower-canvas.bloomed { transform: scale(1); }

        .label {
            margin-top: 5px; font-size: 11px; color: var(--text-color);
            text-transform: uppercase; opacity: 0.7;
        }

        .controls {
            position: absolute; bottom: 20px; right: 20px; z-index: 1000;
            background: white; padding: 10px; border-radius: 50px; opacity: 0.5;
        }
        .controls:hover { opacity: 1; }
    </style>
</head>
<body>

    <div class="overlay"></div>
    <div id="garden"></div>

    <div class="controls">
        <button onclick="toggleMusic()" style="border:none; background:none; cursor:pointer;">Mood: Deep Relax ðŸŒ¿</button>
    </div>

    <audio id="bgm" loop src="https://assets.mixkit.co/music/preview/mixkit-spirit-of-the-forest-617.mp3"></audio>

    <script>
        const garden = document.getElementById('garden');
        const colors = ['#f9dbbd', '#fca17d', '#da627d', '#9a348e', '#0d0630'];
        const manifestationWords = ["Peace", "Abundance", "Growth", "Clarity", "Love", "Focus", "Energy", "Healing"];
        const plants = [];

        function toggleMusic() {
            const audio = document.getElementById('bgm');
            audio.volume = 0.4;
            return audio.paused ? audio.play() : audio.pause();
        }

        // CREATE FLOATING WORDS
        function spawnWord() {
            const word = manifestationWords[Math.floor(Math.random() * manifestationWords.length)];
            const el = document.createElement('div');
            el.className = 'seed-word';
            el.innerText = word;
            
            // Random start position
            el.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            el.style.top = '-50px';
            
            garden.appendChild(el);

            // Animate Floating Down
            let pos = -50;
            const speed = 0.5 + Math.random() * 1;
            const floatInterval = setInterval(() => {
                pos += speed;
                el.style.top = pos + 'px';
                
                // Remove if it goes off screen
                if (pos > window.innerHeight) {
                    clearInterval(floatInterval);
                    el.remove();
                }
            }, 20);

            el.addEventListener('click', () => {
                clearInterval(floatInterval);
                createPlant(parseInt(el.style.left), el.innerText);
                el.remove();
            });
        }

        // Spawn a new word every 3 seconds
        setInterval(spawnWord, 3000);

        function createPlant(x, text) {
            const plantObj = {
                height: 10,
                maxHeight: 250 + Math.random() * 350,
                element: document.createElement('div'),
                stemElement: null
            };

            plantObj.element.className = 'plant';
            plantObj.element.style.left = x + 'px';

            const canvas = document.createElement('canvas');
            canvas.width = canvas.height = 100;
            canvas.className = 'flower-canvas';
            
            const stem = document.createElement('div');
            stem.className = 'stem';

            const label = document.createElement('div');
            label.className = 'label';
            label.innerText = text;

            plantObj.element.appendChild(canvas);
            plantObj.element.appendChild(stem);
            plantObj.element.appendChild(label);
            garden.appendChild(plantObj.element);

            drawFlower(canvas.getContext('2d'), colors[Math.floor(Math.random() * colors.length)]);
            
            setTimeout(() => canvas.classList.add('bloomed'), 100);
            
            plantObj.stemElement = stem;
            plants.push(plantObj);
        }

        function drawFlower(ctx, color) {
            const petals = 6 + Math.floor(Math.random() * 4);
            const radius = 25;
            ctx.translate(50, 50);
            ctx.fillStyle = color;
            for (let i = 0; i < petals; i++) {
                ctx.rotate((Math.PI * 2) / petals);
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.bezierCurveTo(radius, -radius, radius, radius, 0, 0);
                ctx.fill();
            }
            ctx.beginPath(); ctx.arc(0, 0, 5, 0, Math.PI * 2);
            ctx.fillStyle = '#fff'; ctx.fill();
        }

        // FAST GROWTH ENGINE
        setInterval(() => {
            plants.forEach(p => {
                if (p.height < p.maxHeight) {
                    p.height += 5; // Faster growth increment
                    p.stemElement.style.height = p.height + 'px';
                }
            });
        }, 1000); // Check every second

    </script>
</body>
</html>
